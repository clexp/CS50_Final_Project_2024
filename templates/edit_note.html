{% extends "layout.html" %} {% block title %} Edit Note {% endblock %} {% block
main %}
<div class="container">
  <!-- Add the Manage Tags link at the top -->
  <div class="text-end mb-3">
    <a href="{{ url_for('manage_tags') }}" class="btn btn-outline-primary">
      Manage Tags
    </a>
  </div>

  <div class="card">
    <div class="card-body">
      <h2 class="card-title text-center mb-4">Edit Note</h2>
      <form action="{{ url_for('edit_note', note_id=note.id) }}" method="post">
        <div class="mb-3">
          <label for="title" class="form-label">Title</label>
          <input
            type="text"
            class="form-control"
            id="title"
            name="title"
            value="{{ note.title }}"
            required
          />
        </div>

        <div class="mb-3">
          <label for="subject" class="form-label">Subject</label>
          <input
            type="text"
            class="form-control"
            id="subject"
            name="subject"
            value="{{ note.subject }}"
          />
        </div>

        <div class="mb-3">
          <label for="topic" class="form-label">Topic</label>
          <input
            type="text"
            class="form-control"
            id="topic"
            name="topic"
            value="{{ note.topic }}"
          />
        </div>

        <div class="mb-3">
          <label for="content" class="form-label">Content</label>
          <textarea
            class="form-control"
            id="content"
            name="content"
            rows="4"
            required
          >
{{ note.content }}</textarea
          >
        </div>

        <div class="mb-3">
          <label for="question" class="form-label">Question (Optional)</label>
          <input
            type="text"
            class="form-control"
            id="question"
            name="question"
            value="{{ note.question }}"
          />
        </div>

        <div class="mb-3">
          <label for="correct_answer" class="form-label">Correct Answer</label>
          <input
            type="text"
            class="form-control"
            id="correct_answer"
            name="correct_answer"
            value="{{ note.correct_answer }}"
          />
        </div>

        <div class="mb-3">
          <label for="wrong_answer1" class="form-label">Wrong Answer 1</label>
          <input
            type="text"
            class="form-control"
            id="wrong_answer1"
            name="wrong_answer1"
            value="{{ note.wrong_answer1 }}"
          />
        </div>

        <div class="mb-3">
          <label for="wrong_answer2" class="form-label">Wrong Answer 2</label>
          <input
            type="text"
            class="form-control"
            id="wrong_answer2"
            name="wrong_answer2"
            value="{{ note.wrong_answer2 }}"
          />
        </div>

        <div class="mb-3">
          <label for="wrong_answer3" class="form-label">Wrong Answer 3</label>
          <input
            type="text"
            class="form-control"
            id="wrong_answer3"
            name="wrong_answer3"
            value="{{ note.wrong_answer3 }}"
          />
        </div>

        <div class="mb-3">
          <h5>Tags</h5>
          <div
            class="border rounded p-3"
            style="max-height: 200px; overflow-y: auto"
          >
            {% if tags %} {% for tag in tags %}
            <div class="form-check form-check-inline">
              <input
                class="form-check-input"
                type="checkbox"
                name="tags"
                value="{{ tag.id }}"
                id="tag{{ tag.id }}"
                {%
                if
                tag.id
                in
                selected_tag_ids
                %}checked{%
                endif
                %}
              />
              <label class="form-check-label" for="tag{{ tag.id }}">
                {{ tag.name }}
              </label>
            </div>
            {% endfor %} {% else %}
            <p class="text-muted">
              No tags available. Use the Manage Tags button above to create
              some.
            </p>
            {% endif %}
          </div>
        </div>

        <div class="d-grid gap-2">
          <button type="submit" class="btn btn-primary">Save Changes</button>
          <a
            href="{{ url_for('display_note', note_id=note.id) }}"
            class="btn btn-secondary"
            >Cancel</a
          >
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
